<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="1.gif" rel="icon" />
    <title>FashionShopTanti | Luxury Checkout</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --shopee-orange: #ee4d2d;
            --shopee-bg: #f5f5f5;
            --white: #ffffff;
            --text-dark: #212121;
            --text-gray: #757575;
            --green-success: #26aa99;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Roboto', sans-serif; }
        body { background-color: var(--shopee-bg); padding-bottom: 50px; }

        /* --- HEADER --- */
        header {
            background-color: var(--shopee-orange);
            padding: 15px 5%;
            position: sticky; top: 0; z-index: 1000;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .brand-name { color: var(--white); font-size: 24px; font-weight: bold; text-decoration: none; }
        .cart-btn { background: none; border: none; color: white; font-size: 24px; cursor: pointer; position: relative; }
        .cart-badge { position: absolute; top: -5px; right: -10px; background: white; color: var(--shopee-orange); font-size: 11px; font-weight: bold; padding: 2px 6px; border-radius: 50%; display: none; }

        /* --- PRODUCT GRID --- */
        .container { max-width: 1200px; margin: 20px auto; padding: 0 20px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .product-card { background: white; border-radius: 4px; overflow: hidden; border: 1px solid transparent; transition: 0.3s; display: flex; flex-direction: column; }
        .product-card:hover { border-color: var(--shopee-orange); box-shadow: 0 4px 12px rgba(0,0,0,0.1); transform: translateY(-3px); }
        .img-box { width: 100%; padding-top: 100%; position: relative; background: #eee; }
        .img-box img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .product-info { padding: 12px; flex-grow: 1; }
        .p-name { font-size: 14px; height: 40px; overflow: hidden; margin-bottom: 8px; color: var(--text-dark); }
        .p-price { color: var(--shopee-orange); font-size: 18px; font-weight: bold; margin-bottom: 12px; }

        /* --- BUTTONS --- */
        .btn-group { display: flex; flex-direction: column; gap: 5px; }
        .btn { border: 1px solid var(--shopee-orange); padding: 8px; cursor: pointer; border-radius: 3px; font-size: 12px; font-weight: 500; transition: 0.2s; text-align: center; }
        .btn-cart { background: white; color: var(--shopee-orange); }
        .btn-buy { background: var(--shopee-orange); color: white; }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); overflow-y: auto; }
        .modal-content { background: white; margin: 30px auto; padding: 25px; width: 95%; max-width: 500px; border-radius: 8px; position: relative; }
        .close-modal { position: absolute; right: 20px; top: 15px; font-size: 24px; cursor: pointer; color: #999; }

        .cart-item { display: flex; gap: 15px; padding: 10px 0; border-bottom: 1px solid #eee; align-items: center; }
        .cart-item img { width: 40px; height: 40px; object-fit: cover; border-radius: 4px; }
        
        /* --- FORM CHECKOUT --- */
        .form-group { margin-bottom: 12px; }
        .form-group label { display: block; font-size: 12px; color: var(--text-gray); margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; outline: none; font-size: 14px; }
        
        .total-price { text-align: right; font-size: 18px; font-weight: bold; margin: 20px 0; border-top: 2px solid #f5f5f5; padding-top: 15px; color: var(--shopee-orange); }
        .btn-pay { width: 100%; padding: 15px; background: var(--shopee-orange); color: white; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; font-size: 16px; }

        /* --- SUCCESS INVOICE --- */
        #successSection { text-align: center; display: none; }
        .success-icon { font-size: 50px; color: var(--green-success); margin-bottom: 15px; }
        .invoice-box { background: #f9f9f9; padding: 15px; border-radius: 5px; margin: 15px 0; text-align: left; font-size: 14px; border-left: 4px solid var(--shopee-orange); line-height: 1.6; }
        .copy-btn { font-size: 10px; background: #eee; padding: 2px 5px; border-radius: 3px; cursor: pointer; margin-left: 5px; }

        @media (max-width: 600px) { .product-grid { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="brand-name">FashionShopTanti</a>
         <h3 style="color: white;" >Fashion & Accessories</h3>
        <button class="cart-btn" onclick="toggleModal()">
            üõí <span class="cart-badge" id="cartBadge">0</span>
        </button>
    </header>

    <div class="container">
        <div class="product-grid" id="productGrid"></div>
    </div>

    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="toggleModal()">&times;</span>
            
            <div id="checkoutFormSection">
                <h3 style="margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px;">Ringkasan Belanja</h3>
                <div id="cartItems"></div>
                <div id="emptyMsg" style="text-align: center; color: #999; padding: 30px; display: none;">Keranjang kosong</div>

                <div id="checkoutFields" style="margin-top: 20px;">
                    <div class="form-group">
                        <label>Nama Penerima</label>
                        <input type="text" id="custName" placeholder="Nama lengkap">
                    </div>
                    <div class="form-group">
                        <label>Alamat Lengkap</label>
                        <textarea id="custAddress" placeholder="Alamat lengkap pengiriman"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Metode Pembayaran</label>
                        <select id="payMethod" onchange="handlePaymentChange()">
                            <option value="COD">COD (Bayar di Tempat)</option>
                            <option value="BANK">Transfer Bank Manual</option>
                            <option value="VA">Virtual Account (Otomatis)</option>
                        </select>
                    </div>
                    <div class="form-group" id="bankSelectGroup" style="display:none;">
                        <label>Pilih Bank</label>
                        <select id="bankName">
                            <option value="BCA">Bank BCA</option>
                            <option value="MANDIRI">Bank Mandiri</option>
                            <option value="BNI">Bank BNI</option>
                            <option value="BRI">Bank BRI</option>
                        </select>
                    </div>
                    <div class="total-price">Total Bayar: Rp<span id="totalText">0</span></div>
                    <button class="btn-pay" onclick="processTransaction()">PROSES TRANSAKSI</button>
                </div>
            </div>

            <div id="successSection">
                <div class="success-icon">‚úî</div>
                <h2 style="color: var(--text-dark);">Pesanan Dibuat!</h2>
                <div class="invoice-box" id="invoiceDetails"></div>
                <button class="btn-pay" style="background: #333;" onclick="toggleModal()">Selesai & Belanja Lagi</button>
            </div>
        </div>
    </div>

    <script>
        const products = [
            { 
                id: 1, 
                name: "Sling Bag Minimalis - Vintage Brown", 
                price: 125000, 
                img: "https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400" 
            },
            { 
                id: 2, 
                name: "Set Cincin Estetik (Isi 3)", 
                price: 32000, 
                img: "https://images.unsplash.com/photo-1603561596112-0a132b757442?w=400" 
            },
            { 
                id: 3, 
                name: "Gelang Tangan Charm Silver", 
                price: 48000, 
                img: "https://images.unsplash.com/photo-1611591437281-460bfbe1220a?w=400" 
            },
            { 
                id: 4, 
                name: "Jam Tangan Elegan Rose Gold", 
                price: 285000, 
                img: "https://images.unsplash.com/photo-1524805444758-089113d48a6d?w=400" 
            },
            { 
                id: 5, 
                name: "Dompet Lipat Kecil Pastel", 
                price: 89000, 
                img: "https://images.unsplash.com/photo-1627123424574-724758594e93?w=400" 
            }
        ];

        let cart = [];

        function renderProducts() {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = products.map(p => `
                <div class="product-card">
                    <div class="img-box"><img src="${p.img}"></div>
                    <div class="product-info">
                        <div class="p-name">${p.name}</div>
                        <div class="p-price">Rp${p.price.toLocaleString('id-ID')}</div>
                        <div class="btn-group">
                            <button class="btn btn-cart" onclick="addToCart(${p.id})">+ Keranjang</button>
                            <button class="btn btn-buy" onclick="buyNow(${p.id})">Beli Sekarang</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function handlePaymentChange() {
            const method = document.getElementById('payMethod').value;
            const bankGroup = document.getElementById('bankSelectGroup');
            bankGroup.style.display = (method === 'BANK' || method === 'VA') ? 'block' : 'none';
        }

        function addToCart(id) {
            cart.push(products.find(p => p.id === id));
            updateUI();
        }

        function buyNow(id) {
            cart.push(products.find(p => p.id === id));
            updateUI();
            toggleModal();
        }

        function updateUI() {
            const badge = document.getElementById('cartBadge');
            const itemsCont = document.getElementById('cartItems');
            const totalText = document.getElementById('totalText');
            const fields = document.getElementById('checkoutFields');
            const emptyMsg = document.getElementById('emptyMsg');

            badge.innerText = cart.length;
            badge.style.display = cart.length > 0 ? 'block' : 'none';

            if (cart.length === 0) {
                itemsCont.innerHTML = "";
                fields.style.display = 'none';
                emptyMsg.style.display = 'block';
                totalText.innerText = "0";
            } else {
                emptyMsg.style.display = 'none';
                fields.style.display = 'block';
                let total = 0;
                itemsCont.innerHTML = cart.map((item, index) => {
                    total += item.price;
                    return `<div class="cart-item"><img src="${item.img}"><div style="flex-grow:1"><div style="font-size:12px">${item.name}</div><div style="color:var(--shopee-orange); font-weight:bold">Rp${item.price.toLocaleString('id-ID')}</div></div><span style="cursor:pointer; color:red" onclick="removeItem(${index})">üóëÔ∏è</span></div>`;
                }).join('');
                totalText.innerText = total.toLocaleString('id-ID');
            }
        }

        function removeItem(index) {
            cart.splice(index, 1);
            updateUI();
        }

        function toggleModal() {
            const modal = document.getElementById('cartModal');
            const isOpen = modal.style.display === 'block';
            modal.style.display = isOpen ? 'none' : 'block';
            if (isOpen) {
                document.getElementById('checkoutFormSection').style.display = 'block';
                document.getElementById('successSection').style.display = 'none';
            }
        }

        function processTransaction() {
            const name = document.getElementById('custName').value;
            const address = document.getElementById('custAddress').value;
            const method = document.getElementById('payMethod').value;
            const bank = document.getElementById('bankName').value;
            const total = document.getElementById('totalText').innerText;

            if(!name || !address) return alert("Lengkapi Nama dan Alamat!");

            document.getElementById('checkoutFormSection').style.display = 'none';
            document.getElementById('successSection').style.display = 'block';

            let instruksi = "";
            const rek = {
                BCA: "123-098-776", MANDIRI: "132-00-1234-567", BNI: "098-776-543", BRI: "0021-01-9988-77"
            };

            if(method === "COD") {
                instruksi = `<strong>Metode: COD (Bayar di Tempat)</strong><br>Siapkan tunai <strong>Rp${total}</strong> untuk kurir.`;
            } else if(method === "BANK") {
                instruksi = `<strong>Transfer Manual ${bank}</strong><br>No. Rek: <strong>${rek[bank]}</strong><br>Atas Nama: <strong>Tanti Rahmawati</strong>`;
            } else {
                instruksi = `<strong>Virtual Account ${bank}</strong><br>No. VA: <strong>8801${Math.floor(Math.random()*100000000)}</strong><br>Berlaku 24 Jam.`;
            }

            document.getElementById('invoiceDetails').innerHTML = `
                <div style="font-size:12px; margin-bottom:10px; color:#777">Order ID: #FST-${Date.now().toString().slice(-6)}</div>
                <div><strong>Penerima:</strong> ${name}</div>
                <div><strong>Alamat:</strong> ${address}</div>
                <hr style="margin:10px 0; border:0; border-top:1px solid #eee;">
                ${instruksi}
                <div style="margin-top:10px; color:var(--shopee-orange); font-size:16px;"><strong>Total: Rp${total}</strong></div>
            `;

            cart = []; updateUI();
        }

        window.onload = renderProducts;
    </script>
</body>
</html>